<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns="http://www.w3.org/1999/html">


<head th:replace="~{temp/template::head}">

</head>
<body>



<nav th:replace="~{temp/template::header}"></nav>
<!--<div th:replace="~{templ/template::footer}"></div>-->

<!--<a th:href="@{/employee/create}" class="btn btn-primary btn-lg active" role="button" aria-pressed="true">Create new customer</a>-->


<form th:action="@{/product/search}" th:method="get">
    <input type="text" name="name">
    <input type="text" name="catelogyName"

    >

    <!--    <select th:name="c" th:field="*{catelogy}">-->
    <!--        <option value="">Choose customer type</option>-->
    <!--        <th:block th:each="c : ${catelogy}">-->
    <!--            <option th:value="${c.catelogyId}" th:text="${c.catelogyName}" ></option>-->
    <!--        </th:block>-->
    <!--    </select>-->
    <button type="submit" class="btn btn-outline-success ">Search</button>
</form>

<form th:action="@{/product/search2}" th:method="get">
    <input type="text" name="name">
    <button type="submit" class="btn btn-outline-success ">Search</button>
</form>

<table class="table table-striped">
    <thead>
    <tr>
        <th scope="col">Code</th>
        <th scope="col">Name</th>
        <th scope="col">BirthDay</th>
        <th scope="col">Email</th>
        <th scope="col">Id Card</th>
        <th scope="col">Gender</th>
        <th scope="col">Catelogy</th>
        <th scope="col"></th>
        <th scope="col"></th>

    </tr>
    </thead>
    <tbody id="result">
    <tr th:each="p:${product}">

        <td th:text="${p.productCode}"></td>
        <td th:text="${p.productName}"></td>
        <td th:text="${p.productBrithday}"></td>
        <td th:text="${p.productEmail}">
        </td>
        <td th:text="${p.productGender}">
            <span th:case="1" th:text="Man"></span>
            <span th:case="0" th:text="Woman"></span>
        </td>

        <td th:text="${p.prodyctIdCard}"></td>
        <td th:text="${p.catelogy.getCatelogyName()}"></td>

        <td>
            <a class="btn btn-primary " role="button"
               th:href="@{/product/edit/__${p.productId}__}">Edit

            </a>
        </td>
<!--        <td>-->


        <td><a th:href="@{/product/delete/__${p.productId}__}"  class="btn btn-danger btn-delete">Delete</a></td>




        <!--        </td>-->


    </tr>
    </tbody>
</table>
<div>
    <a th:href="@{'/product/list'(page=${product.number - 1})}" th:if="${product.hasPrevious()}">Previous</a>
    <span th:text="${product.number + 1}"></span>/<span th:text="${product.totalPages}"></span>
    <a th:href="@{'/product/list'(page=${product.number + 1})}" th:if="${product.hasNext()}">Next</a>


    <!--    <th:block th:each="i:${#numbers.sequence(0,blogList.totalPages - 1)}">-->
    <!--        <li th:if="${blogList.number == i}" class="page-item active">-->
    <!--            <a class="page-link" th:href="@{'/blogs'(page=${i})}" th:text="${i+1}"></a>-->
    <!--        </li>-->
    <!--        <li th:unless="${blogList.number == i}" class="page-item">-->
    <!--            <a class="page-link" th:href="@{'/blogs'(page=${i})}" th:text="${i+1}"></a>-->
    <!--        </li>-->
    <!--    </th:block>-->

    <!--    <li class="page-item">-->
    <!--        <a class="page-link" th:if="${blogList.hasNext()}" th:href="@{'/blogs'(page=${blogList.number +1})}">-->
    <!--            <span>&raquo;</span>-->
    <!--        </a>-->
    <!--    </li>-->
</div>


<!--modal-->
<div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                <h3 class="modal-title pull-right" id="myModalLabel">Xoa Khach hang nay!</h3>

            </div>
            <div class="modal-body">
                <p class="alert alert-danger pull-right">Ban co muon xoa? </p>

            </div>

            <div class="modal-footer">
                <a href="" type="button" class="btn btn-danger" id="btnDelteYes">Delete</a>
                <button type="button" class="btn btn-default" data-dismiss="modal">Return</button>
            </div>

        </div>

    </div>




</div>
<script>
    $('.btn-delete').on('click', function (e) {
        e.preventDefault();
        var href =$(this).attr('href');
        $('#myModal #btnDelteYes').attr('href',href);
        $('#myModal').modal();
    });
</script>
</body>
<div th:replace="~{temp/template::footer}"></div>
</html>